<!DOCTYPE html>
<html>
<head> 
    <!-- adding required meta tags-->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>post</title>
</head>


<body>
    <p>enter the info for timeline post</p>
    <form id="form">
    <input name="name" type="text">
    <input name="email "type="text">
    <input name="content "type="text">
    <button type="submit">Submit</button>
</form>


</body>
<script>
    const form = document.getElementById('form')

    form.addEventListener('submit', function(e) {
        e.preventDefault();

        // creates a new formdata object that contains an array of arrays
        // corresponding to the form elements
        const payload = new FormData(form);

        console.log([...payload])

        fetch('http://127.0.0.1:5000/api/timeline_post', {
            method: "POST",
            body: payload
        })

        .then(res => res.json())
        .then(data => console.log(data))
        .catch(err => console.log(error))
    })
</script>

</html>
